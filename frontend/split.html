<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>SplitExpense-PocketHeist</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark shadow-sm" id="navbar">
  <div class="container">
    <img src="logo2.png" alt="pocketheist" width="40" height="40" class="me-2">
    <a class="navbar-brand fw-bold" href="dashboard.html"> <h1> PocketHeist</h1></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto align-items-center">
        <li class="nav-item"><a class="nav-link" href="dashboard.html">Dashboard</a></li>
        <li class="nav-item"><a class="nav-link" href="targets.html">Targets</a></li>
        <li class="nav-item"><a class="nav-link active" href="split.html">SplitExpense</a></li>
        <li class="nav-item"><a class="nav-link" href="categories.html">Categories</a></li>
        <li class="nav-item"><a class="nav-link" href="reminders.html">Reminders</a></li>
        <li class="nav-item ms-3"><button id="themeToggle"></button></li>
      </ul>
    </div>
  </div>
</nav>

<!-- MAIN CONTENT -->
<main class="container my-4 page-anim">

  <div class="card p-4 shadow-lg card-hover fade-in mb-4">
    <h4 class="fw-bold mb-2"><i class="bi bi-people-fill text-primary"></i> Split a Bill</h4>
    <p class="small text-muted">Add friends and split shared expenses fairly.</p>

    <form id="splitForm" class="row g-3 mt-2">
      <div class="col-md-3"><input class="form-control" name="payer" placeholder="Payer e.g. You"></div>
      <div class="col-md-3"><input class="form-control" name="total" type="number" placeholder="‚Çπ"></div>
      <div class="col-md-4"><input class="form-control" name="friends" placeholder="Friends e.g. Aman,Priya"></div>
      <div class="col-md-2 d-flex align-items-end">
        <button class="btn btn-primary w-100 fw-semibold">üí∏ Split</button>
      </div>
    </form>

    <div id="splitResult" class="mt-4 fade-in"></div>
  </div>

  <div class="card p-4 shadow-lg card-hover fade-in mb-4">
    <h6 class="fw-semibold mb-3"><i class="bi bi-cash-coin text-success"></i> Settlements</h6>
    <ul id="settleList" class="list-group list-group-flush"></ul>
  </div>

</main>

<!-- BOTTOM NAV -->
<div class="bottom-nav shadow-lg">
  <a data-page="dashboard" href="dashboard.html"><i class="bi bi-house"></i><span>Home</span></a>
  <a data-page="targets" href="targets.html"><i class="bi bi-bullseye"></i><span>Targets</span></a>
  <a data-page="splitwise" href="split.html" class="active"><i class="bi bi-people"></i><span>SplitExpense</span></a>
  <a data-page="categories" href="categories.html"><i class="bi bi-list"></i><span>Categories</span></a>
  <a data-page="reminders" href="reminders.html"><i class="bi bi-bell"></i><span>Reminders</span></a>
</div>

  <!-- Animated background layers -->
<canvas id="galaxy-bg"></canvas>
<div id="light-icons-bg"></div>

<script src="js/background.js"></script>

<!-- JS -->
<script src="js/app.js"></script>
<script>
document.addEventListener('DOMContentLoaded', ()=>{
  APP.initThemeToggle('themeToggle');
  APP.setActive('splitwise');

  const form = document.getElementById('splitForm');
  const result = document.getElementById('splitResult');
  const list = document.getElementById('settleList');

  form.addEventListener('submit', e=>{
    e.preventDefault();
    const fd = new FormData(form);
    const payer = fd.get('payer')||'You';
    const total = Number(fd.get('total')||0);
    const friends = String(fd.get('friends')||'').split(',').map(s=>s.trim()).filter(Boolean);
    if(!total||friends.length===0){
      result.innerHTML=`<div class="alert alert-danger fade-in">‚ö†Ô∏è Fill all details.</div>`;
      return;
    }
    const share = total/(friends.length+1);
    result.innerHTML=`<div class="alert alert-success fade-in">‚úÖ Each person (including <strong>${payer}</strong>) pays <strong>‚Çπ${share.toFixed(2)}</strong>.</div>`;
    list.innerHTML=friends.map(f=>`
      <li class="list-group-item d-flex justify-content-between align-items-center small fade-in">
        <span><strong>${f}</strong> owes <strong>${payer}</strong></span>
        <span class="text-success fw-semibold">‚Çπ${share.toFixed(2)}</span>
      </li>`).join('');
  });
});
</script>

    <script src="https://cdn.botpress.cloud/webchat/v3.3/inject.js"></script>
<script src="https://files.bpcontent.cloud/2025/10/07/11/20251007115828-7Y93C0YO.js" defer></script>
    
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
